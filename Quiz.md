# Quiz
```
PM跟你說，這個圖片判斷功能很重要，請你盡快做成RESTful API，要交付給客戶端工程師部屬用
(AI工程師給你了一個文件夾說東西都在裡面)
馬上要開服測試人多不能爆掉
```



## 1. Do it then push to github (public)


## 2. 為何使用這樣的架構？

### 架構選擇：FastAPI + Uvicorn Multi-Worker + Docker

| 技術 | 為什麼選它 |
|------|-----------|
| **FastAPI** | 開發速度快，自動產生 Swagger API 文件，客戶端工程師可直接在網頁上測試，省去寫文件的時間 |
| **Uvicorn Multi-Worker** | 啟動多個進程並行處理請求，解決「人多不能爆掉」的需求，單機可承載每秒 40-50 個請求 |
| **Docker** | 環境完整打包，消除「在我電腦可以跑」的問題，客戶端 2 行指令即可部署 |

### 關鍵設計決策

| 決策 | 理由 |
|------|------|
| 模型在啟動時載入一次 | 避免每次請求重新載入，推論延遲從 2-3 秒降到 50-100ms |
| 使用 CPU 推論 | MNIST 模型小，CPU 夠快，簡化部署不需要 GPU 環境 |
| 不用 Celery/Redis | 初期流量不大，同步推論足夠，保持架構簡單易維護 |

---

## 3. 我該如何跟PM說要怎麼做給客戶，要怎麼跟他們說以及怎麼做


### 交付物清單

1. **Docker Image** — 包含所有程式碼、模型、環境的單一檔案
2. **API 文件** — 部署後自動產生於 `http://<IP>:8000/docs`
3. **README.md** — 部署步驟與使用範例

### 客戶端部署方式

只需 2 行指令：
1. 拉取 Image
2. 啟動 Container，服務即上線

### API 使用方式

- **端點**：`POST /predict`
- **輸入**：上傳圖片檔案（PNG/JPG）
- **輸出**：預測的數字（0-9）與信心分數

### 效能與承載能力

| 指標 | 數值 |
|------|------|
| 單次推論延遲 | 50-100ms |
| 並行處理能力 | 4 個同時請求（可調整 Worker 數量） |
| 建議 Server 規格 | 4 CPU / 4GB RAM 起跳 |

### 擴展建議

若開服後流量超出預期，可透過 Load Balancer 搭配多個 Container 水平擴展，無需修改程式碼。

